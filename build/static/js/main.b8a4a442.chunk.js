(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{60:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(18),s=a.n(r),i=a(2),l=a(5),d=a(34),o=a(17),j=a.n(o),u="http://localhost:4000";function b(e){return console.log(e,"get request"),j.a.get("".concat(u,"/").concat(e)).then((function(e){return e.data}))}var p=a(13),O=a(4),h=(a(60),a(0));var m=function(){var e=Object(l.c)((function(e){return e})),t=Object(l.b)(),a=e.user,c=e.cart.filter((function(e){return e.uid===a.id}));return Object(h.jsxs)("header",{children:[Object(h.jsx)("div",{className:"item",children:Object(h.jsx)("img",{width:"120",src:"/static/images/logo.png",alt:""})}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)(p.b,{to:"/",children:"Home"}),Object(h.jsx)(p.b,{to:"/Products",children:"Products"})]}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(p.b,{to:"/Login",children:"Login"}),Object(h.jsx)(p.b,{to:"/Signup",children:"Signup"})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("button",{onClick:function(e){return t({type:"cart-open"})},children:[Object(h.jsx)("i",{className:"fa fa-2x fa-shopping-cart"}),c.length,"items"]})})]})]})};a(64);var f=function(){return Object(h.jsx)("footer",{children:"footer copy rights \xa9"})},x=a(12),g=a(11);a(65);var v=function(e){var t=n.a.useState({email:"",password:""}),a=Object(g.a)(t,2),c=a[0],r=a[1],s=n.a.useState({email:"",password:""}),d=Object(g.a)(s,2),o=d[0],j=d[1],u=n.a.useState({email:!1,password:!1}),b=Object(g.a)(u,2),p=b[0],O=b[1],m=n.a.useRef(null),f=n.a.useRef(null),v=Object(l.c)((function(e){return e})),y=Object(l.b)();n.a.useEffect((function(){j({email:p.email&&m.current.validationMessage?"valid email required":"",password:p.password&&f.current.validationMessage?"valid password required":""})}),[c]);var w=function(e){var t=e.target,a=t.name,n=t.value;r(Object(i.a)(Object(i.a)({},c),{},Object(x.a)({},a,n))),O(Object(i.a)(Object(i.a)({},p),{},Object(x.a)({},a,!0)))};return Object(h.jsxs)("div",{className:"login",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsx)("h3",{children:"Get Acces to your orders wishlist and recommendations"})]}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsx)("p",{children:"Email"}),Object(h.jsx)("input",{ref:m,type:"email",required:!0,name:"email",placeholder:"Email",value:c.email,onChange:w}),Object(h.jsx)("span",{className:"error",children:o.email}),Object(h.jsx)("p",{children:"Password"}),Object(h.jsx)("input",{ref:f,min:"8",max:"20",pattern:"[a-zA-Z0-9]{8,}",required:!0,type:"password",name:"password",placeholder:"password",value:c.password,onChange:w}),Object(h.jsx)("span",{className:"error",children:o.password}),Object(h.jsx)("button",{onClick:function(){if(O({email:!0,password:!0}),o.email||o.password)if(v.users.some((function(e){return e.email===c.email&&e.password===c.password}))){var t=v.users.find((function(e){return e.email===c.email&&e.password===c.password}));alert("login success"),y({type:"login",payload:t}),e.history.push("/")}else alert("login failed"),e.history.push("/Signup")},children:"Login"})]})]})},y=a(21);a(66);var w=function(e){var t=n.a.useState({fn:"",ln:"",email:"",pwd:"",cpwd:""}),a=Object(g.a)(t,2),c=a[0],r=a[1],s=n.a.useState({fn:"",ln:"",email:"",pwd:"",cpwd:""}),d=Object(g.a)(s,2),o=d[0],b=d[1],p=n.a.useState({fn:!1,ln:!1,email:!1,pwd:!1,cpwd:!1}),O=Object(g.a)(p,2),m=O[0],f=O[1],v=Object(l.c)((function(e){return e})),w=Object(l.b)(),N=v.users,C=n.a.useRef(null),q=n.a.useRef(null),S=n.a.useRef(null),k=n.a.useRef(null),R=n.a.useRef(null);n.a.useEffect((function(){b({fn:m.fn&&C.current.validationMessage?"your name is not correct":"",ln:m.ln&&q.current.validationMessage?"enter lastname correctly":"",email:m.email&&S.current.validationMessage?"valid email required":"",pwd:m.pwd&&k.current.validationMessage?"valid password required":"",cpwd:m.cpwd&&R.current.validationMessage?"type confirm password correctly":""})}),[c]);var L=function(e){var t=e.target,a=t.name,n=t.value;r(Object(i.a)(Object(i.a)({},c),{},Object(x.a)({},a,n))),f(Object(i.a)(Object(i.a)({},m),{},Object(x.a)({},a,!0)))};return Object(h.jsxs)("div",{className:"login",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)("h1",{children:"Signup"}),Object(h.jsx)("h3",{children:"We do not share your personal details with anyone"})]}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsx)("p",{children:"First Name"}),Object(h.jsx)("input",{required:!0,min:"5",max:"100",name:"fn",ref:C,onChange:L,value:c.fn,placeholder:"First Name"}),Object(h.jsx)("span",{className:"error",children:o.fn}),Object(h.jsx)("p",{children:"Last Name"}),Object(h.jsx)("input",{required:!0,min:"2",max:"200",name:"ln",ref:q,onChange:L,value:c.ln,placeholder:"Last Name"}),Object(h.jsx)("span",{className:"error",children:o.ln}),Object(h.jsx)("p",{children:"Email"}),Object(h.jsx)("input",{type:"email",required:!0,name:"email",ref:S,onChange:L,value:c.email,placeholder:"Email"}),Object(h.jsx)("span",{className:"error",children:o.email}),Object(h.jsx)("p",{children:"Password"}),Object(h.jsx)("input",{min:"8",max:"20",pattern:"[a-zA-Z0-9]{8,}",required:!0,name:"pwd",ref:k,onChange:L,value:c.pwd,placeholder:"Password"}),Object(h.jsx)("span",{className:"error",children:o.pwd}),Object(h.jsx)("p",{children:"Confirm Password"}),Object(h.jsx)("input",{required:!0,pattern:c.pwd,name:"cpwd",ref:R,onChange:L,value:c.cpwd,placeholder:"Confirm Password"}),Object(h.jsx)("span",{className:"error",children:o.cpwd}),Object(h.jsx)("button",{onClick:function(){var t,a;if(f({fn:!0,ln:!0,email:!0,pwd:!0,cpwd:!0}),o.fn||o.ln||o.email||o.pwd||o.cpwd)if(c.pwd===c.cpwd)if(N.some((function(e){return e.email===c.email})))alert("email already exists"),e.history.push("/Login");else{var n={fn:c.fn,ln:c.ln,email:c.email,password:c.pwd};(t="users",a=n,console.log(t,"post request",a),j.a.post("".concat(u,"/").concat(t),a).then((function(e){return e.data}))).then((function(t){w({type:"signup",payload:[].concat(Object(y.a)(N),[t])}),alert("signup success"),e.history.push("/Login")}))}else alert("passwords donot match")},children:"Signup"})]})]})},N=n.a.lazy((function(){return a.e(3).then(a.bind(null,74))})),C=n.a.lazy((function(){return a.e(4).then(a.bind(null,75))}));var q=function(){var e=Object(l.c)((function(e){return e}));return Object(h.jsxs)("div",{children:[e.banners.length>0&&Object(h.jsx)(c.Suspense,{fallback:Object(h.jsx)("p",{align:"center",children:Object(h.jsx)("i",{className:"fa fa-5x fa-spin fa-spinner"})}),children:Object(h.jsx)(N,{})}),e.categories.filter((function(e){return e.enabled})).map((function(e,t){return Object(h.jsx)(c.Suspense,{fallback:Object(h.jsx)("p",{align:"center",children:Object(h.jsx)("i",{className:"fa fa-5x fa-spin fa-spinner"})}),children:Object(h.jsx)(C,{className:t%2===0?"categories active":"categories",catgeory:e})},e.id)}))]})},S=(a(67),n.a.lazy((function(){return a.e(5).then(a.bind(null,76))})));var k=function(){var e=n.a.useState(!0),t=Object(g.a)(e,2),a=t[0],r=t[1],s=Object(l.c)((function(e){return e})),d=Object(l.b)(),o=s.products,j=s.categories,u=s.cart,b=s.user,p=function(e){if(u.some((function(t){return t.pid===e.id}))){var t=u.find((function(t){return t.pid===e.id})),a=t.id,c=t.qty;c+=1,u=u.map((function(e){return e.id===a?Object(i.a)(Object(i.a)({},e),{},{qty:c}):e})),d({type:"addtocart",payload:u})}else{var n=Object(i.a)(Object(i.a)(Object(i.a)({},b),e),{},{uid:b.id,pid:e.id,qty:1,id:u.length+1});u=[].concat(Object(y.a)(u),[n]),d({type:"addtocart",payload:u})}};return Object(h.jsxs)("main",{children:[Object(h.jsxs)("div",{className:"left",children:[j.map((function(e){return a&&Object(h.jsx)("p",{children:e.name},e.name)})),Object(h.jsxs)("span",{onClick:function(e){return r(!a)},children:[!a&&j[0].name," ",Object(h.jsx)("i",{className:"fa fa-chevron-down"})]})]}),Object(h.jsx)("div",{className:"right",children:o.map((function(e){return Object(h.jsx)(c.Suspense,{fallback:Object(h.jsx)("p",{align:"center",children:Object(h.jsx)("i",{className:"fa fa-5x fa-spin fa-spinner"})}),children:Object(h.jsx)(S,{addtocart:p,product:e},e.id)})}))})]})};a(68);var R=function(){var e,t=Object(l.c)((function(e){return e})),a=Object(l.b)(),c=t.toggleCart,n=t.user,r=t.cart,s=r.filter((function(e){return e.uid===n.id})),d=function(e,t){r=r.map((function(a){return a.id===e?Object(i.a)(Object(i.a)({},a),{},{qty:t}):a})),a({type:"addtocart",payload:r})};return Object(h.jsx)("div",{className:c?"cart-box active":"cart-box",children:Object(h.jsxs)("div",{className:"cart",children:[Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("div",{className:"item",children:Object(h.jsxs)("big",{children:["My Cart ",s.length>0&&Object(h.jsxs)("span",{children:["(",s.length," items)"]})]})}),Object(h.jsx)("div",{className:"item",onClick:function(e){return a({type:"cart-close"})},children:"X"})]}),Object(h.jsx)("div",{className:"body",children:s.length>0?Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"scroll",children:s.map((function(e){return Object(h.jsxs)("div",{className:"line",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)("div",{className:"image",children:Object(h.jsx)("img",{width:"80",src:e.imageURL,alt:""})}),Object(h.jsxs)("div",{className:"desc",children:[Object(h.jsx)("strong",{children:e.name}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{disabled:e.qty>10,onClick:function(t){return d(e.id,e.qty+1)},children:"+"})}),Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:e.qty})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{disabled:e.qty<2,onClick:function(t){return d(e.id,e.qty-1)},children:"-"})}),Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:[" Rs.",e.price]})})]})]})]}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsxs)("strong",{children:["Rs.",e.qty*e.price]}),Object(h.jsx)("button",{onClick:function(t){return c=e.id,r=r.filter((function(e){return e.id!==c})),void a({type:"addtocart",payload:r});var c},children:Object(h.jsx)("i",{className:"fa fa-trash-o"})})]})]},e.id)}))}),Object(h.jsxs)("div",{className:"note",children:[Object(h.jsx)("img",{align:"middle",width:"40",src:"/static/images/lowest-price.png",alt:""}),"You wont find it cheaper anywhere"]})]}):Object(h.jsx)("div",{className:"noitems",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"No Items in cart"}),Object(h.jsx)("p",{children:"your favourite items are just a click away"})]})})}),Object(h.jsx)("div",{className:"footer",children:s.length>0?Object(h.jsxs)("div",{children:[Object(h.jsx)("small",{children:"Promo Code can be apllied on payment page"}),Object(h.jsxs)("div",{className:"btn",children:[Object(h.jsx)("span",{children:"Proceed to Checkout"}),Object(h.jsxs)("span",{children:["Rs. ",(e=s,e.length>0?e.map((function(e){return e.qty*e.price})).reduce((function(e,t){return e+t})):0)]})]})]}):Object(h.jsxs)("div",{align:"center",className:"btn",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{children:"Start Shipping"}),Object(h.jsx)("div",{})]})})]})})};var L=function(){var e=Object(l.b)();return n.a.useEffect((function(){b("banners").then((function(t){return e({type:"banners",payload:t})})),b("categories").then((function(t){return e({type:"categories",payload:t})})),b("products").then((function(t){return e({type:"products",payload:t})})),b("users").then((function(t){return e({type:"users",payload:t})})),b("cart").then((function(t){return e({type:"cart",payload:t})})),b("orders").then((function(t){return e({type:"orders",payload:t})}))}),[]),Object(h.jsxs)(p.a,{children:[Object(h.jsx)(m,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)(O.c,{children:[Object(h.jsx)(O.a,{exact:!0,path:"/",component:q}),Object(h.jsx)(O.a,{exact:!0,path:"/Login",component:v}),Object(h.jsx)(O.a,{exact:!0,path:"/Products",component:k}),Object(h.jsx)(O.a,{exact:!0,path:"/Signup",component:w})]})}),Object(h.jsx)(f,{}),Object(h.jsx)(R,{})]})},P={products:[],categories:[],banners:[],users:[],user:{},order:1,max:5,cart:[],toggleCart:!1,loggedin:!1};var E=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.payload,e.cart,e.user),t.type){case"products":return Object(i.a)(Object(i.a)({},e),{},{products:t.payload});case"categories":return Object(i.a)(Object(i.a)({},e),{},{categories:t.payload});case"banners":return Object(i.a)(Object(i.a)({},e),{},{banners:t.payload});case"users":return Object(i.a)(Object(i.a)({},e),{},{users:t.payload});case"cart":return Object(i.a)(Object(i.a)({},e),{},{cart:t.payload});case"orders":return Object(i.a)(Object(i.a)({},e),{},{orders:t.payload});case"banners-active":return Object(i.a)(Object(i.a)({},e),{},{order:t.payload});case"cart-close":return Object(i.a)(Object(i.a)({},e),{},{toggleCart:!1});case"addtocart":return Object(i.a)(Object(i.a)({},e),{},{toggleCart:!0,cart:t.payload});case"cart-open":return Object(i.a)(Object(i.a)({},e),{},{toggleCart:!0});case"login":return Object(i.a)(Object(i.a)({},e),{},{user:t.payload,loggedin:!0});case"signup":return Object(i.a)(Object(i.a)({},e),{},{users:t.payload});case"logout":return Object(i.a)(Object(i.a)({},e),{},{user:{},loggedin:!1});default:return e}})),M=function(){return Object(h.jsx)(l.a,{store:E,children:Object(h.jsx)(L,{})})};a(69);s.a.render(Object(h.jsx)(M,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.b8a4a442.chunk.js.map